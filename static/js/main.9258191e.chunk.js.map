{"version":3,"sources":["App.js","index.js"],"names":["bridge","send","subscribe","e","console","log","supports","circleStyle","width","height","borderRadius","background","position","left","top","marginLeft","marginTop","containerStyle","border","then","data","alert","result","catch","error","Example","props","state","shiftX","shiftY","startX","startY","onMove","bind","onEnd","getCircleRef","this","limitX","circleRef","offsetLeft","limitY","offsetTop","setState","el","Math","abs","limitExceeded","activePanel","id","header","mode","style","borderColor","getRootRef","transform","React","Component","App","useAdaptivity","viewWidth","useState","popout","styles","but","textAlign","align","title","marginBottom","gr","margin","level","weight","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9258191e.chunk.js","sourcesContent":["import React from \"react\"\r\nimport {\r\n  AdaptivityProvider,\r\n  ConfigProvider,\r\n  useAdaptivity,\r\n  AppRoot,\r\n  SplitLayout,\r\n  SplitCol,\r\n  ViewWidth,\r\n  View,\r\n  Panel,\r\n  PanelHeader,\r\n  Header,\r\n  Group,\r\n  SimpleCell,\r\n  withAdaptivity,\r\n  CellButton,\r\n  PopoutWrapper,\r\n  ModalDismissButton,\r\n  Button,\r\n  Div,\r\n  Title,\r\n  Touch\r\n} from \"@vkontakte/vkui\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\n\r\nbridge.send(\"VKWebAppInit\", {}); \r\nbridge.subscribe((e) => console.log(e));\r\n\r\nbridge.send(\"VKWebAppInit\", {});\r\n\r\nif (bridge.supports(\"VKWebAppResizeWindow\")) {\r\n    bridge.send(\"VKWebAppResizeWindow\", {\"width\": 800, \"height\": 1000});\r\n}\r\n\r\n\r\nconst circleStyle = {\r\n  width: 40,\r\n  height: 40,\r\n  borderRadius: '50%',\r\n  background: 'var(--accent)',\r\n  position: 'absolute',\r\n  left: '50%',\r\n  top: '50%',\r\n  marginLeft: -20,\r\n  marginTop: -20\r\n}\r\n\r\nconst containerStyle = {\r\n  height: 200,\r\n  border: '8px solid var(--icon_secondary)',\r\n  position: 'relative'\r\n}\r\n\r\nbridge\r\n  .send('VKWebAppGyroscopeStart')\r\n  .then(data => {\r\n    alert(data.result)\r\n  })\r\n  .catch(error => {\r\n    alert(error)\r\n  });\r\n\r\nclass Example extends React.Component {\r\n\r\n\r\n  constructor (props) {\r\n\r\n    super(props);\r\n\r\n    this.state = {\r\n      shiftX: 0,\r\n      shiftY: 50\r\n    }\r\n\r\n    this.startX = 0;\r\n    this.startY = 50;\r\n\r\n    this.onMove = this.onMove.bind(this);\r\n    this.onEnd = this.onEnd.bind(this);\r\n    this.getCircleRef = this.getCircleRef.bind(this);\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.limitX = this.circleRef.offsetLeft;\r\n    this.limitY = this.circleRef.offsetTop;\r\n  }\r\n\r\n  onMove (e) {\r\n    let shiftX = this.startX + e.shiftX;\r\n    let shiftY = this.startY + e.shiftY;\r\n\r\n    this.setState({\r\n      shiftX: shiftX > this.limitX ? this.limitX : shiftX < -this.limitX ? -this.limitX : shiftX,\r\n      shiftY: shiftY > this.limitY ? this.limitY : shiftY < -this.limitY ? -this.limitY : shiftY,\r\n    });\r\n  }\r\n\r\n  onEnd (e) {\r\n    this.startX += e.shiftX;\r\n    this.startY += e.shiftY;\r\n  }\r\n\r\n  getCircleRef (el) { this.circleRef = el };\r\n\r\n  get limitExceeded () {\r\n    const { shiftX, shiftY } = this.state;\r\n    return Math.abs(shiftX) >= this.limitX || Math.abs(shiftY) >= this.limitY\r\n  }\r\n\r\n  render () {\r\n    const { shiftX, shiftY, limitExceeded } = this.state;\r\n\r\n    return (\r\n      <View activePanel=\"gallery\">\r\n        <Panel id=\"gallery\">\r\n          <Group header={<Header mode=\"secondary\">Финиш</Header>}>\r\n            <div style={{\r\n              ...containerStyle,\r\n              borderColor: this.limitExceeded ? 'var(--destructive)' : 'var(--icon_secondary)' }}\r\n            >\r\n              <Touch\r\n                getRootRef={this.getCircleRef}\r\n                onMove={this.onMove}\r\n                onEnd={this.onEnd}\r\n                style={{ ...circleStyle, transform: `translate(${shiftX}px, ${shiftY}px)` }}\r\n              />\r\n            </div>\r\n          </Group>\r\n        </Panel>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction App() {\r\n  const { viewWidth } = useAdaptivity();\r\n  const [popout, setPopout] = React.useState(null);\r\n\r\n    const styles = {\r\n      but: {\r\n        textAlign: 'center',\r\n        align: 'center'\r\n      },\r\n      title: {\r\n        marginTop: '50px',\r\n        marginBottom: '5px',\r\n        textAlign: 'center'\r\n      },\r\n      gr: {\r\n        margin: '0 auto 0 auto'\r\n      }\r\n    };\r\n\r\n  //return\r\n  return (\r\n    <SplitLayout>\r\n      <SplitCol>\r\n    <View popout={popout} activePanel=\"popout\">\r\n      <Panel id=\"popout\" >\r\n      <Title level=\"1\" weight=\"bold\" style={styles.title}>Лабиринт</Title>\r\n        <Group style={styles.gr}>\r\n        <Example />\r\n        </Group>\r\n      </Panel>\r\n    </View>\r\n    </SplitCol>\r\n    </SplitLayout>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport bridge from '@vkontakte/vk-bridge'\r\nimport App from './App';\r\nimport {\r\n  AdaptivityProvider,\r\n  ConfigProvider,\r\n  useAdaptivity,\r\n  AppRoot,\r\n  SplitLayout,\r\n  SplitCol,\r\n  ViewWidth,\r\n  View,\r\n  Panel,\r\n  PanelHeader,\r\n  Header,\r\n  Group,\r\n  SimpleCell\r\n} from \"@vkontakte/vkui\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nbridge.send(\"VKWebAppInit\");\r\nReactDOM.render(\r\n  <ConfigProvider>\r\n    <AdaptivityProvider>\r\n      <App />\r\n    </AdaptivityProvider>\r\n  </ConfigProvider>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}