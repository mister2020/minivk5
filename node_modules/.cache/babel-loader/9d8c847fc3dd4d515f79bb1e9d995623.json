{"ast":null,"code":"import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from \"../lib/useIsomorphicLayoutEffect\";\nimport { canUseDOM } from \"../lib/dom\";\nexport function useTimeout(cb, duration) {\n  var options = React.useRef({\n    cb: cb,\n    duration: duration\n  });\n  useIsomorphicLayoutEffect(function () {\n    options.current.cb = cb;\n    options.current.duration = duration;\n  }, [cb, duration]);\n  var timeout = React.useRef();\n  var clear = React.useCallback(function () {\n    return canUseDOM && clearTimeout(timeout.current);\n  }, []);\n  var set = React.useCallback(function () {\n    clear();\n\n    if (canUseDOM) {\n      timeout.current = setTimeout(function () {\n        var cb = options.current.cb;\n        typeof cb === 'function' && cb();\n      }, options.current.duration);\n    }\n  }, []);\n  React.useEffect(function () {\n    return clear;\n  }, []);\n  return {\n    set: set,\n    clear: clear\n  };\n}","map":{"version":3,"sources":["../../src/hooks/useTimeout.ts"],"names":["options","cb","duration","useIsomorphicLayoutEffect","timeout","React","clear","canUseDOM","clearTimeout","set","setTimeout"],"mappings":"AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AACA,SAAA,yBAAA,QAAA,kCAAA;AACA,SAAA,SAAA,QAAA,YAAA;AAEA,OAAO,SAAA,UAAA,CAAA,EAAA,EAAA,QAAA,EAAqD;AAC1D,MAAMA,OAAO,GAAG,KAAK,CAAL,MAAA,CAAa;AAAEC,IAAAA,EAAE,EAAJ,EAAA;AAAMC,IAAAA,QAAQ,EAARA;AAAN,GAAb,CAAhB;AACAC,EAAAA,yBAAyB,CAAC,YAAM;AAC9BH,IAAAA,OAAO,CAAPA,OAAAA,CAAAA,EAAAA,GAAAA,EAAAA;AACAA,IAAAA,OAAO,CAAPA,OAAAA,CAAAA,QAAAA,GAAAA,QAAAA;AAFuB,GAAA,EAGtB,CAAA,EAAA,EAHHG,QAGG,CAHsB,CAAzBA;AAKA,MAAMC,OAAO,GAAGC,KAAK,CAArB,MAAgBA,EAAhB;AACA,MAAMC,KAAK,GAAG,KAAK,CAAL,WAAA,CAAkB,YAAA;AAAA,WAAMC,SAAS,IAAIC,YAAY,CAACJ,OAAO,CAAvC,OAA+B,CAA/B;AAAlB,GAAA,EAAd,EAAc,CAAd;AACA,MAAMK,GAAG,GAAG,KAAK,CAAL,WAAA,CAAkB,YAAM;AAClCH,IAAAA,KAAK;;AACL,QAAA,SAAA,EAAe;AACbF,MAAAA,OAAO,CAAPA,OAAAA,GAAkBM,UAAU,CAAC,YAAM;AACjC,YAAQT,EAAR,GAAeD,OAAO,CAAtB,OAAeA,CAAf,EAAA;AACA,eAAA,EAAA,KAAA,UAAA,IAA4BC,EAA5B,EAAA;AAF0B,OAAA,EAGzBD,OAAO,CAAPA,OAAAA,CAHHI,QAA4B,CAA5BA;AAID;AAPS,GAAA,EAAZ,EAAY,CAAZ;AASAC,EAAAA,KAAK,CAALA,SAAAA,CAAgB,YAAA;AAAA,WAAA,KAAA;AAAhBA,GAAAA,EAAAA,EAAAA;AAEA,SAAO;AAAEI,IAAAA,GAAG,EAAL,GAAA;AAAOH,IAAAA,KAAK,EAALA;AAAP,GAAP;AACD","sourcesContent":["import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { canUseDOM } from '../lib/dom';\n\nexport function useTimeout(cb: () => any, duration: number) {\n  const options = React.useRef({ cb, duration });\n  useIsomorphicLayoutEffect(() => {\n    options.current.cb = cb;\n    options.current.duration = duration;\n  }, [cb, duration]);\n\n  const timeout = React.useRef<ReturnType<typeof setTimeout>>();\n  const clear = React.useCallback(() => canUseDOM && clearTimeout(timeout.current), []);\n  const set = React.useCallback(() => {\n    clear();\n    if (canUseDOM) {\n      timeout.current = setTimeout(() => {\n        const { cb } = options.current;\n        typeof cb === 'function' && cb();\n      }, options.current.duration);\n    }\n  }, []);\n  React.useEffect(() => clear, []);\n\n  return { set, clear };\n}\n"]},"metadata":{},"sourceType":"module"}