{"ast":null,"code":"import _slicedToArray from\"C:/Users/max/Desktop/minivk5/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:/Users/max/Desktop/minivk5/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/max/Desktop/minivk5/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/max/Desktop/minivk5/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/max/Desktop/minivk5/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/max/Desktop/minivk5/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/max/Desktop/minivk5/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{AdaptivityProvider,ConfigProvider,useAdaptivity,AppRoot,SplitLayout,SplitCol,ViewWidth,View,Panel,PanelHeader,Header,Group,SimpleCell,withAdaptivity,CellButton,PopoutWrapper,ModalDismissButton,Button,Div,Title,Touch}from\"@vkontakte/vkui\";import\"@vkontakte/vkui/dist/vkui.css\";import bridge from'@vkontakte/vk-bridge';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";bridge.send(\"VKWebAppInit\",{});bridge.subscribe(function(e){return console.log(e);});bridge.send(\"VKWebAppInit\",{});if(bridge.supports(\"VKWebAppResizeWindow\")){bridge.send(\"VKWebAppResizeWindow\",{\"width\":800,\"height\":1000});}var circleStyle={width:40,height:40,borderRadius:'50%',background:'var(--accent)',position:'absolute',left:'50%',top:'50%',marginLeft:-20,marginTop:-20};var containerStyle={height:200,border:'8px solid var(--icon_secondary)',position:'relative'};bridge.send('VKWebAppGyroscopeStart').then(function(data){alert(data.result);}).catch(function(error){alert(error);});var Example=/*#__PURE__*/function(_React$Component){_inherits(Example,_React$Component);var _super=_createSuper(Example);function Example(props){var _this;_classCallCheck(this,Example);_this=_super.call(this,props);_this.state={shiftX:0,shiftY:50};_this.startX=0;_this.startY=50;_this.onMove=_this.onMove.bind(_assertThisInitialized(_this));_this.onEnd=_this.onEnd.bind(_assertThisInitialized(_this));_this.getCircleRef=_this.getCircleRef.bind(_assertThisInitialized(_this));return _this;}_createClass(Example,[{key:\"componentDidMount\",value:function componentDidMount(){this.limitX=this.circleRef.offsetLeft;this.limitY=this.circleRef.offsetTop;}},{key:\"onMove\",value:function onMove(e){var shiftX=this.startX+e.shiftX;var shiftY=this.startY+e.shiftY;this.setState({shiftX:shiftX>this.limitX?this.limitX:shiftX<-this.limitX?-this.limitX:shiftX,shiftY:shiftY>this.limitY?this.limitY:shiftY<-this.limitY?-this.limitY:shiftY});}},{key:\"onEnd\",value:function onEnd(e){this.startX+=e.shiftX;this.startY+=e.shiftY;}},{key:\"getCircleRef\",value:function getCircleRef(el){this.circleRef=el;}},{key:\"limitExceeded\",get:function get(){var _this$state=this.state,shiftX=_this$state.shiftX,shiftY=_this$state.shiftY;return Math.abs(shiftX)>=this.limitX||Math.abs(shiftY)>=this.limitY;}},{key:\"render\",value:function render(){var _this$state2=this.state,shiftX=_this$state2.shiftX,shiftY=_this$state2.shiftY,limitExceeded=_this$state2.limitExceeded;return/*#__PURE__*/_jsx(View,{activePanel:\"gallery\",children:/*#__PURE__*/_jsx(Panel,{id:\"gallery\",children:/*#__PURE__*/_jsx(Group,{header:/*#__PURE__*/_jsx(Header,{mode:\"secondary\",children:\"\\u0424\\u0438\\u043D\\u0438\\u0448\"}),children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},containerStyle),{},{borderColor:this.limitExceeded?'var(--destructive)':'var(--icon_secondary)'}),children:/*#__PURE__*/_jsx(Touch,{getRootRef:this.getCircleRef,onMove:this.onMove,onEnd:this.onEnd,style:_objectSpread(_objectSpread({},circleStyle),{},{transform:\"translate(\".concat(shiftX,\"px, \").concat(shiftY,\"px)\")})})})})})});}}]);return Example;}(React.Component);function App(){var _useAdaptivity=useAdaptivity(),viewWidth=_useAdaptivity.viewWidth;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),popout=_React$useState2[0],setPopout=_React$useState2[1];var styles={but:{textAlign:'center',align:'center'},title:{marginTop:'50px',marginBottom:'5px',textAlign:'center'},gr:{margin:'0 auto 0 auto'}};//return\nreturn/*#__PURE__*/_jsx(SplitLayout,{children:/*#__PURE__*/_jsx(SplitCol,{children:/*#__PURE__*/_jsx(View,{popout:popout,activePanel:\"popout\",children:/*#__PURE__*/_jsxs(Panel,{id:\"popout\",children:[/*#__PURE__*/_jsx(Title,{level:\"1\",weight:\"bold\",style:styles.title,children:\"\\u041B\\u0430\\u0431\\u0438\\u0440\\u0438\\u043D\\u0442\"}),/*#__PURE__*/_jsx(Group,{style:styles.gr,children:/*#__PURE__*/_jsx(Example,{})})]})})})});}export default App;","map":{"version":3,"sources":["C:/Users/max/Desktop/minivk5/src/App.js"],"names":["React","AdaptivityProvider","ConfigProvider","useAdaptivity","AppRoot","SplitLayout","SplitCol","ViewWidth","View","Panel","PanelHeader","Header","Group","SimpleCell","withAdaptivity","CellButton","PopoutWrapper","ModalDismissButton","Button","Div","Title","Touch","bridge","send","subscribe","e","console","log","supports","circleStyle","width","height","borderRadius","background","position","left","top","marginLeft","marginTop","containerStyle","border","then","data","alert","result","catch","error","Example","props","state","shiftX","shiftY","startX","startY","onMove","bind","onEnd","getCircleRef","limitX","circleRef","offsetLeft","limitY","offsetTop","setState","el","Math","abs","limitExceeded","borderColor","transform","Component","App","viewWidth","useState","popout","setPopout","styles","but","textAlign","align","title","marginBottom","gr","margin"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport {\r\n  AdaptivityProvider,\r\n  ConfigProvider,\r\n  useAdaptivity,\r\n  AppRoot,\r\n  SplitLayout,\r\n  SplitCol,\r\n  ViewWidth,\r\n  View,\r\n  Panel,\r\n  PanelHeader,\r\n  Header,\r\n  Group,\r\n  SimpleCell,\r\n  withAdaptivity,\r\n  CellButton,\r\n  PopoutWrapper,\r\n  ModalDismissButton,\r\n  Button,\r\n  Div,\r\n  Title,\r\n  Touch\r\n} from \"@vkontakte/vkui\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\n\r\nbridge.send(\"VKWebAppInit\", {}); \r\nbridge.subscribe((e) => console.log(e));\r\n\r\nbridge.send(\"VKWebAppInit\", {});\r\n\r\nif (bridge.supports(\"VKWebAppResizeWindow\")) {\r\n    bridge.send(\"VKWebAppResizeWindow\", {\"width\": 800, \"height\": 1000});\r\n}\r\n\r\n\r\nconst circleStyle = {\r\n  width: 40,\r\n  height: 40,\r\n  borderRadius: '50%',\r\n  background: 'var(--accent)',\r\n  position: 'absolute',\r\n  left: '50%',\r\n  top: '50%',\r\n  marginLeft: -20,\r\n  marginTop: -20\r\n}\r\n\r\nconst containerStyle = {\r\n  height: 200,\r\n  border: '8px solid var(--icon_secondary)',\r\n  position: 'relative'\r\n}\r\n\r\nbridge\r\n  .send('VKWebAppGyroscopeStart')\r\n  .then(data => {\r\n    alert(data.result)\r\n  })\r\n  .catch(error => {\r\n    alert(error)\r\n  });\r\n\r\nclass Example extends React.Component {\r\n\r\n\r\n  constructor (props) {\r\n\r\n    super(props);\r\n\r\n    this.state = {\r\n      shiftX: 0,\r\n      shiftY: 50\r\n    }\r\n\r\n    this.startX = 0;\r\n    this.startY = 50;\r\n\r\n    this.onMove = this.onMove.bind(this);\r\n    this.onEnd = this.onEnd.bind(this);\r\n    this.getCircleRef = this.getCircleRef.bind(this);\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.limitX = this.circleRef.offsetLeft;\r\n    this.limitY = this.circleRef.offsetTop;\r\n  }\r\n\r\n  onMove (e) {\r\n    let shiftX = this.startX + e.shiftX;\r\n    let shiftY = this.startY + e.shiftY;\r\n\r\n    this.setState({\r\n      shiftX: shiftX > this.limitX ? this.limitX : shiftX < -this.limitX ? -this.limitX : shiftX,\r\n      shiftY: shiftY > this.limitY ? this.limitY : shiftY < -this.limitY ? -this.limitY : shiftY,\r\n    });\r\n  }\r\n\r\n  onEnd (e) {\r\n    this.startX += e.shiftX;\r\n    this.startY += e.shiftY;\r\n  }\r\n\r\n  getCircleRef (el) { this.circleRef = el };\r\n\r\n  get limitExceeded () {\r\n    const { shiftX, shiftY } = this.state;\r\n    return Math.abs(shiftX) >= this.limitX || Math.abs(shiftY) >= this.limitY\r\n  }\r\n\r\n  render () {\r\n    const { shiftX, shiftY, limitExceeded } = this.state;\r\n\r\n    return (\r\n      <View activePanel=\"gallery\">\r\n        <Panel id=\"gallery\">\r\n          <Group header={<Header mode=\"secondary\">Финиш</Header>}>\r\n            <div style={{\r\n              ...containerStyle,\r\n              borderColor: this.limitExceeded ? 'var(--destructive)' : 'var(--icon_secondary)' }}\r\n            >\r\n              <Touch\r\n                getRootRef={this.getCircleRef}\r\n                onMove={this.onMove}\r\n                onEnd={this.onEnd}\r\n                style={{ ...circleStyle, transform: `translate(${shiftX}px, ${shiftY}px)` }}\r\n              />\r\n            </div>\r\n          </Group>\r\n        </Panel>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction App() {\r\n  const { viewWidth } = useAdaptivity();\r\n  const [popout, setPopout] = React.useState(null);\r\n\r\n    const styles = {\r\n      but: {\r\n        textAlign: 'center',\r\n        align: 'center'\r\n      },\r\n      title: {\r\n        marginTop: '50px',\r\n        marginBottom: '5px',\r\n        textAlign: 'center'\r\n      },\r\n      gr: {\r\n        margin: '0 auto 0 auto'\r\n      }\r\n    };\r\n\r\n  //return\r\n  return (\r\n    <SplitLayout>\r\n      <SplitCol>\r\n    <View popout={popout} activePanel=\"popout\">\r\n      <Panel id=\"popout\" >\r\n      <Title level=\"1\" weight=\"bold\" style={styles.title}>Лабиринт</Title>\r\n        <Group style={styles.gr}>\r\n        <Example />\r\n        </Group>\r\n      </Panel>\r\n    </View>\r\n    </SplitCol>\r\n    </SplitLayout>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}