{"ast":null,"code":"import * as React from 'react';\nimport { ScrollContext } from \"../AppRoot/ScrollContext\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nexport var ScrollSaver = function ScrollSaver(_ref) {\n  var children = _ref.children,\n      initialScroll = _ref.initialScroll,\n      saveScroll = _ref.saveScroll;\n\n  var _React$useContext = React.useContext(ScrollContext),\n      getScroll = _React$useContext.getScroll,\n      scrollTo = _React$useContext.scrollTo;\n\n  useIsomorphicLayoutEffect(function () {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n\n    return function () {\n      return saveScroll(getScroll().y);\n    };\n  }, []);\n  return children;\n};","map":{"version":3,"sources":["../../../src/components/Epic/ScrollSaver.tsx"],"names":["ScrollSaver","children","initialScroll","saveScroll","getScroll","scrollTo","React","useIsomorphicLayoutEffect"],"mappings":"AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AACA,SAAA,aAAA,QAAA,0BAAA;AACA,SAAA,yBAAA,QAAA,qCAAA;AAQA,OAAO,IAAMA,WAAuC,GAAG,SAA1CA,WAA0C,CAAA,IAAA,EAA6C;AAAA,MAA1CC,QAA0C,GAAA,IAAA,CAA1CA,QAA0C;AAAA,MAAhCC,aAAgC,GAAA,IAAA,CAAhCA,aAAgC;AAAA,MAAjBC,UAAiB,GAAA,IAAA,CAAjBA,UAAiB;;AAClG,MAAA,iBAAA,GAAgCG,KAAK,CAALA,UAAAA,CAAhC,aAAgCA,CAAhC;AAAA,MAAQF,SAAR,GAAA,iBAAA,CAAA,SAAA;AAAA,MAAmBC,QAAnB,GAAA,iBAAA,CAAA,QAAA;;AACAE,EAAAA,yBAAyB,CAAC,YAAM;AAC9B,QAAI,OAAA,aAAA,KAAJ,QAAA,EAAuC;AACrCF,MAAAA,QAAQ,CAAA,CAAA,EAARA,aAAQ,CAARA;AACD;;AACD,WAAO,YAAA;AAAA,aAAMF,UAAU,CAACC,SAAS,GAA1B,CAAgB,CAAhB;AAAP,KAAA;AAJuB,GAAA,EAAzBG,EAAyB,CAAzBA;AAMA,SAAA,QAAA;AARK,CAAA","sourcesContent":["import * as React from 'react';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n\nexport interface ScrollSaverProps {\n  children: React.ReactElement;\n  initialScroll?: number;\n  saveScroll: (scroll: number) => any;\n}\n\nexport const ScrollSaver: React.FC<ScrollSaverProps> = ({ children, initialScroll, saveScroll }) => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return children;\n};\n"]},"metadata":{},"sourceType":"module"}