{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"size\", \"sizeY\", \"platform\"],\n    _excluded2 = [\"size\", \"mode\", \"stretched\", \"align\", \"children\", \"before\", \"after\", \"getRootRef\", \"sizeY\", \"Component\", \"loading\", \"onClick\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport Tappable from \"../Tappable/Tappable\";\nimport Title from \"../Typography/Title/Title\";\nimport Text from \"../Typography/Text/Text\";\nimport Subhead from \"../Typography/Subhead/Subhead\";\nimport Caption from \"../Typography/Caption/Caption\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { SizeType, withAdaptivity } from \"../../hoc/withAdaptivity\";\nimport { IOS, VKCOM } from \"../../lib/platform\";\nimport Spinner from \"../Spinner/Spinner\";\n\nvar ButtonTypography = function ButtonTypography(props) {\n  var size = props.size,\n      sizeY = props.sizeY,\n      platform = props.platform,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var isCompact = sizeY === SizeType.COMPACT;\n\n  switch (size) {\n    case 'l':\n      if (isCompact) {\n        return createScopedElement(Text, _extends({\n          weight: \"medium\"\n        }, restProps));\n      }\n\n      return createScopedElement(Title, _extends({\n        level: \"3\",\n        weight: \"medium\"\n      }, restProps));\n\n    case 'm':\n      if (isCompact) {\n        return createScopedElement(Subhead, _extends({\n          weight: platform === VKCOM ? 'regular' : 'medium'\n        }, restProps));\n      }\n\n      return createScopedElement(Text, _extends({\n        weight: \"medium\"\n      }, restProps));\n\n    case 's':\n    default:\n      if (platform === IOS) {\n        return createScopedElement(Subhead, _extends({\n          weight: \"medium\"\n        }, restProps));\n      }\n\n      if (platform === VKCOM) {\n        return createScopedElement(Caption, _extends({\n          level: \"1\",\n          weight: \"regular\"\n        }, restProps));\n      }\n\n      if (isCompact) {\n        return createScopedElement(Caption, _extends({\n          level: \"1\",\n          weight: \"medium\"\n        }, restProps));\n      }\n\n      return createScopedElement(Subhead, _extends({\n        weight: \"medium\"\n      }, restProps));\n  }\n};\n\nvar Button = function Button(props) {\n  var _classNames;\n\n  var platform = usePlatform();\n\n  var size = props.size,\n      mode = props.mode,\n      stretched = props.stretched,\n      align = props.align,\n      children = props.children,\n      before = props.before,\n      after = props.after,\n      getRootRef = props.getRootRef,\n      sizeY = props.sizeY,\n      _props$Component = props.Component,\n      Component = _props$Component === void 0 ? 'button' : _props$Component,\n      loading = props.loading,\n      onClick = props.onClick,\n      restProps = _objectWithoutProperties(props, _excluded2);\n\n  var hasIcons = Boolean(before || after);\n  return createScopedElement(Tappable, _extends({}, restProps, {\n    Component: restProps.href ? 'a' : Component,\n    onClick: loading ? null : onClick,\n    focusVisibleMode: \"outside\",\n    vkuiClass: classNames(getClassName('Button', platform), \"Button--sz-\".concat(size), \"Button--lvl-\".concat(mode), \"Button--aln-\".concat(align), \"Button--sizeY-\".concat(sizeY), (_classNames = {}, _defineProperty(_classNames, 'Button--stretched', stretched), _defineProperty(_classNames, 'Button--with-icon', hasIcons), _classNames)),\n    getRootRef: getRootRef,\n    activeMode: \"opacity\"\n  }), loading && createScopedElement(Spinner, {\n    size: \"small\",\n    vkuiClass: \"Button__spinner\"\n  }), createScopedElement(\"span\", {\n    vkuiClass: \"Button__in\"\n  }, before && createScopedElement(\"span\", {\n    vkuiClass: \"Button__before\"\n  }, before), children && createScopedElement(ButtonTypography, {\n    size: size,\n    sizeY: sizeY,\n    platform: platform,\n    vkuiClass: \"Button__content\",\n    Component: \"span\"\n  }, children), after && createScopedElement(\"span\", {\n    vkuiClass: \"Button__after\"\n  }, after)));\n};\n\nButton.defaultProps = {\n  mode: 'primary',\n  align: 'center',\n  size: 's',\n  stretched: false,\n  stopPropagation: true\n};\nexport default withAdaptivity(Button, {\n  sizeY: true\n});","map":{"version":3,"sources":["../../../src/components/Button/Button.tsx"],"names":["ButtonTypography","size","sizeY","platform","restProps","props","isCompact","SizeType","Button","usePlatform","mode","stretched","align","children","before","after","getRootRef","Component","loading","onClick","hasIcons","Boolean","classNames","getClassName","stopPropagation","withAdaptivity"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport Tappable, { TappableProps } from '../Tappable/Tappable';\nimport Title from '../Typography/Title/Title';\nimport Text from '../Typography/Text/Text';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Caption from '../Typography/Caption/Caption';\nimport { HasAlign } from '../../types';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptivityProps, SizeType, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { Platform, IOS, VKCOM } from '../../lib/platform';\nimport Spinner from '../Spinner/Spinner';\nimport './Button.css';\n\nexport interface VKUIButtonProps extends HasAlign {\n  mode?: 'primary' | 'secondary' | 'tertiary' | 'outline' | 'commerce' | 'destructive' | 'overlay_primary' | 'overlay_secondary' | 'overlay_outline';\n  size?: 's' | 'm' | 'l';\n  stretched?: boolean;\n  before?: React.ReactNode;\n  after?: React.ReactNode;\n  loading?: boolean;\n}\n\nexport interface ButtonProps extends Omit<TappableProps, 'size'>, VKUIButtonProps {}\n\ninterface ButtonTypographyProps {\n  size: ButtonProps['size'];\n  platform: Platform;\n  sizeY: AdaptivityProps['sizeY'];\n  children?: ButtonProps['children'];\n  Component?: React.ElementType;\n}\n\nconst ButtonTypography: React.FC<ButtonTypographyProps> = (props: ButtonTypographyProps) => {\n  const { size, sizeY, platform, ...restProps } = props;\n  const isCompact = sizeY === SizeType.COMPACT;\n\n  switch (size) {\n    case 'l':\n      if (isCompact) {\n        return <Text weight=\"medium\" {...restProps} />;\n      }\n\n      return <Title level=\"3\" weight=\"medium\" {...restProps} />;\n    case 'm':\n      if (isCompact) {\n        return <Subhead weight={platform === VKCOM ? 'regular' : 'medium'} {...restProps} />;\n      }\n\n      return <Text weight=\"medium\" {...restProps} />;\n    case 's':\n    default:\n      if (platform === IOS) {\n        return <Subhead weight=\"medium\" {...restProps} />;\n      }\n\n      if (platform === VKCOM) {\n        return <Caption level=\"1\" weight=\"regular\" {...restProps} />;\n      }\n\n      if (isCompact) {\n        return <Caption level=\"1\" weight=\"medium\" {...restProps} />;\n      }\n\n      return <Subhead weight=\"medium\" {...restProps} />;\n  }\n};\n\nconst Button: React.FC<ButtonProps> = (props: ButtonProps) => {\n  const platform = usePlatform();\n  const {\n    size,\n    mode,\n    stretched,\n    align,\n    children,\n    before,\n    after,\n    getRootRef,\n    sizeY,\n    Component = 'button',\n    loading,\n    onClick,\n    ...restProps\n  } = props;\n\n  const hasIcons = Boolean(before || after);\n\n  return (\n    <Tappable\n      {...restProps}\n      Component={restProps.href ? 'a' : Component}\n      onClick={loading ? null : onClick}\n      focusVisibleMode=\"outside\"\n      vkuiClass={\n        classNames(\n          getClassName('Button', platform),\n          `Button--sz-${size}`,\n          `Button--lvl-${mode}`,\n          `Button--aln-${align}`,\n          `Button--sizeY-${sizeY}`,\n          {\n            ['Button--stretched']: stretched,\n            ['Button--with-icon']: hasIcons,\n          },\n        )\n      }\n      getRootRef={getRootRef}\n      activeMode=\"opacity\"\n    >\n      {loading && <Spinner size=\"small\" vkuiClass=\"Button__spinner\" />}\n      <span vkuiClass=\"Button__in\">\n        {before && <span vkuiClass=\"Button__before\">{before}</span>}\n        {children && (\n          <ButtonTypography\n            size={size}\n            sizeY={sizeY}\n            platform={platform}\n            vkuiClass=\"Button__content\"\n            Component=\"span\"\n          >\n            {children}\n          </ButtonTypography>\n        )}\n        {after && <span vkuiClass=\"Button__after\">{after}</span>}\n      </span>\n    </Tappable>\n  );\n};\n\nButton.defaultProps = {\n  mode: 'primary',\n  align: 'center',\n  size: 's',\n  stretched: false,\n  stopPropagation: true,\n};\n\nexport default withAdaptivity(Button, {\n  sizeY: true,\n});\n"]},"metadata":{},"sourceType":"module"}