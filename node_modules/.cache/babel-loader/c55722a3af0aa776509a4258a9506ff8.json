{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport { createScopedElement } from \"./jsxRuntime\";\nimport * as React from 'react';\nimport { canUseDOM } from '@vkontakte/vkjs';\nexport { canUseDOM, canUseEventListeners, onDOMLoaded } from '@vkontakte/vkjs';\n/* eslint-disable no-restricted-globals */\n\nexport var getDOM = function getDOM() {\n  return {\n    window: canUseDOM ? window : null,\n    document: canUseDOM ? document : null\n  };\n};\n/* eslint-enable no-restricted-globals */\n\nexport var DOMContext = /*#__PURE__*/React.createContext(getDOM());\nexport var useDOM = function useDOM() {\n  return React.useContext(DOMContext);\n};\nexport function withDOM(Component) {\n  var WithDOM = function WithDOM(props) {\n    var dom = useDOM();\n    return createScopedElement(Component, _extends({}, props, dom));\n  };\n\n  return WithDOM;\n}\nexport function blurActiveElement(document) {\n  if (document && document.activeElement) {\n    document.activeElement.blur();\n  }\n}","map":{"version":3,"sources":["../../src/lib/dom.tsx"],"names":["getDOM","window","canUseDOM","document","DOMContext","React","useDOM","WithDOM","dom"],"mappings":";;AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AACA,SAAA,SAAA,QAAA,iBAAA;AACA,SAAA,SAAA,EAAA,oBAAA,EAAA,WAAA,QAAA,iBAAA;AAeA;;AACA,OAAO,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAA;AAAA,SAAO;AAC3BC,IAAAA,MAAM,EAAEC,SAAS,GAAA,MAAA,GADU,IAAA;AAE3BC,IAAAA,QAAQ,EAAED,SAAS,GAAA,QAAA,GAAc;AAFN,GAAP;AAAf,CAAA;AAIP;;AAEA,OAAO,IAAME,UAAU,GAAA,aAAGC,KAAK,CAALA,aAAAA,CAAyCL,MAA5D,EAAmBK,CAAnB;AAEP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1B,SAAOD,KAAK,CAALA,UAAAA,CAAP,UAAOA,CAAP;AADK,CAAA;AAIP,OAAO,SAAA,OAAA,CAAA,SAAA,EAA0E;AAC/E,MAAME,OAAwB,GAAG,SAA3BA,OAA2B,CAAA,KAAA,EAAkB;AACjD,QAAMC,GAAG,GAAGF,MAAZ,EAAA;AACA,WAAO,mBAAA,CAAA,SAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAP,GAAO,CAAA,CAAP;AAFF,GAAA;;AAIA,SAAA,OAAA;AACD;AAED,OAAO,SAAA,iBAAA,CAAA,QAAA,EAA2D;AAChE,MAAIH,QAAQ,IAAIA,QAAQ,CAAxB,aAAA,EAAwC;AACrCA,IAAAA,QAAQ,CAAT,aAACA,CAAD,IAACA;AACF;AACF","sourcesContent":["import * as React from 'react';\nimport { canUseDOM } from '@vkontakte/vkjs';\nexport { canUseDOM, canUseEventListeners, onDOMLoaded } from '@vkontakte/vkjs';\n\nexport interface DOMContextInterface {\n  /**\n   * @ignore\n   */\n  window?: Window;\n  /**\n   * @ignore\n   */\n  document?: Document;\n}\n\nexport type DOMProps = DOMContextInterface;\n\n/* eslint-disable no-restricted-globals */\nexport const getDOM = () => ({\n  window: canUseDOM ? window : null,\n  document: canUseDOM ? document : null,\n});\n/* eslint-enable no-restricted-globals */\n\nexport const DOMContext = React.createContext<DOMContextInterface>(getDOM());\n\nexport const useDOM = () => {\n  return React.useContext(DOMContext);\n};\n\nexport function withDOM<Props>(Component: React.ComponentType<Props & DOMProps>) {\n  const WithDOM: React.FC<Props> = (props: Props) => {\n    const dom = useDOM();\n    return <Component {...props} {...dom} />;\n  };\n  return WithDOM;\n}\n\nexport function blurActiveElement(document: Document | undefined) {\n  if (document && document.activeElement) {\n    (document.activeElement as HTMLElement).blur();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}