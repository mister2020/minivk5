{"version":3,"sources":["../../../src/components/PopoutRoot/PopoutRoot.tsx"],"names":["React","withAdaptivity","ViewWidth","ViewHeight","AppRootPortal","blurActiveElement","useDOM","PopoutRootComponent","props","popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef","restProps","document","isDesktop","SMALL_TABLET","MEDIUM","useEffect","displayName","PopoutRoot"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,cAAT,EAAyBC,SAAzB,EAAoCC,UAApC;AACA,SAASC,aAAT;AACA,SAASC,iBAAT,EAA4BC,MAA5B;AAQA,OAAO,IAAMC,mBAA8C,GAAG,SAAjDA,mBAAiD,CAACC,KAAD,EAA4B;AACxF,MAAQC,MAAR,GAA+FD,KAA/F,CAAQC,MAAR;AAAA,MAAgBC,KAAhB,GAA+FF,KAA/F,CAAgBE,KAAhB;AAAA,MAAuBC,SAAvB,GAA+FH,KAA/F,CAAuBG,SAAvB;AAAA,MAAkCC,UAAlC,GAA+FJ,KAA/F,CAAkCI,UAAlC;AAAA,MAA8CC,QAA9C,GAA+FL,KAA/F,CAA8CK,QAA9C;AAAA,MAAwDC,QAAxD,GAA+FN,KAA/F,CAAwDM,QAAxD;AAAA,MAAkEC,UAAlE,GAA+FP,KAA/F,CAAkEO,UAAlE;AAAA,MAAiFC,SAAjF,4BAA+FR,KAA/F;;AACA,gBAAqBF,MAAM,EAA3B;AAAA,MAAQW,QAAR,WAAQA,QAAR;;AAEA,MAAMC,SAAS,GAAGP,SAAS,IAAIT,SAAS,CAACiB,YAAvB,KAAwCN,QAAQ,IAAID,UAAU,IAAIT,UAAU,CAACiB,MAA7E,CAAlB;AAEApB,EAAAA,KAAK,CAACqB,SAAN,CAAgB,YAAM;AACpBZ,IAAAA,MAAM,IAAIJ,iBAAiB,CAACY,QAAD,CAA3B;AACD,GAFD,EAEG,CAAC,CAAC,CAACR,MAAH,CAFH;AAIA,SACE,wCACMO,SADN;AAEE,IAAA,SAAS,EAAC,YAFZ;AAGE,IAAA,GAAG,EAAED;AAHP,MAKGD,QALH,EAME,oBAAC,aAAD,QACG,CAAC,CAACL,MAAF,IAAY;AAAK,IAAA,SAAS,EAAES,SAAS,GAAG,sBAAH,GAA4B;AAArD,KAA4ET,MAA5E,CADf,EAEG,CAAC,CAACC,KAAF,IAAW;AAAK,IAAA,SAAS,EAAC;AAAf,KAAoCA,KAApC,CAFd,CANF,CADF;AAaD,CAvBM;AAyBPH,mBAAmB,CAACe,WAApB,GAAkC,YAAlC;AAEA,OAAO,IAAMC,UAAU,GAAGtB,cAAc,CAACM,mBAAD,EAAsB;AAC5DI,EAAAA,SAAS,EAAE,IADiD;AAE5DC,EAAAA,UAAU,EAAE,IAFgD;AAG5DC,EAAAA,QAAQ,EAAE;AAHkD,CAAtB,CAAjC","sourcesContent":["import * as React from 'react';\nimport { HasRootRef } from '../../types';\nimport { withAdaptivity, ViewWidth, ViewHeight, AdaptivityProps } from '../../hoc/withAdaptivity';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { blurActiveElement, useDOM } from '../../lib/dom';\nimport './PopoutRoot.css';\n\nexport interface PopoutRootProps extends React.HTMLAttributes<HTMLDivElement>, AdaptivityProps, HasRootRef<HTMLDivElement> {\n  popout?: React.ReactNode;\n  modal?: React.ReactNode;\n}\n\nexport const PopoutRootComponent: React.FC<PopoutRootProps> = (props: PopoutRootProps) => {\n  const { popout, modal, viewWidth, viewHeight, hasMouse, children, getRootRef, ...restProps } = props;\n  const { document } = useDOM();\n\n  const isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n\n  React.useEffect(() => {\n    popout && blurActiveElement(document);\n  }, [!!popout]);\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass=\"PopoutRoot\"\n      ref={getRootRef}\n    >\n      {children}\n      <AppRootPortal>\n        {!!popout && <div vkuiClass={isDesktop ? 'PopoutRoot--absolute' : 'PopoutRoot__popout'}>{popout}</div>}\n        {!!modal && <div vkuiClass=\"PopoutRoot__modal\">{modal}</div>}\n      </AppRootPortal>\n    </div>\n  );\n};\n\nPopoutRootComponent.displayName = 'PopoutRoot';\n\nexport const PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true,\n});\n"],"file":"PopoutRoot.js"}