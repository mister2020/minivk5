{"version":3,"sources":["../../../../src/components/PanelHeader/PanelHeader.tsx"],"names":["React","usePlatform","getClassName","classNames","FixedLayout","Separator","Platform","VKCOM","ConfigProviderContext","WebviewType","SizeType","withAdaptivity","isPrimitiveReactNode","Text","TooltipContainer","PanelHeaderInTypography","children","platform","PanelHeaderIn","left","right","useContext","webviewType","isPrimitive","VKAPPS","PanelHeader","props","separator","visor","transparent","shadow","getRef","getRootRef","sizeX","sizeY","fixed","restProps","needShadow","REGULAR","isFixed","undefined","defaultProps"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport FixedLayout from '../FixedLayout/FixedLayout';\nimport Separator from '../Separator/Separator';\nimport { Platform, VKCOM } from '../../lib/platform';\nimport { HasRef, HasRootRef } from '../../types';\nimport { ConfigProviderContext, WebviewType } from '../ConfigProvider/ConfigProviderContext';\nimport { AdaptivityProps, SizeType, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { isPrimitiveReactNode } from '../../lib/utils';\nimport Text from '../Typography/Text/Text';\nimport { TooltipContainer } from '../Tooltip/TooltipContainer';\nimport './PanelHeader.css';\n\nexport interface PanelHeaderProps extends\n  React.HTMLAttributes<HTMLDivElement>,\n  HasRef<HTMLDivElement>,\n  HasRootRef<HTMLDivElement>,\n  AdaptivityProps {\n  left?: React.ReactNode;\n  right?: React.ReactNode;\n  separator?: boolean;\n  transparent?: boolean;\n  shadow?: boolean;\n  /**\n   * Если `false`, то шапка будет нулевой высоты и контент панели \"залезет\" под неё\n   */\n  visor?: boolean;\n  /**\n   * Если `false`, то шапка будет в потоке. По умолчанию `true`, но если платформа vkcom, то по умолчанию `false`.\n   */\n  fixed?: boolean;\n}\n\nconst PanelHeaderInTypography: React.FC<PanelHeaderProps> = ({ children }: PanelHeaderProps) => {\n  const platform = usePlatform();\n\n  return platform === VKCOM\n    ? <Text weight=\"medium\">{children}</Text>\n    : <span vkuiClass=\"PanelHeader__content-in\">{children}</span>;\n};\n\nconst PanelHeaderIn: React.FC<PanelHeaderProps> = ({ children, left, right }) => {\n  const { webviewType } = React.useContext(ConfigProviderContext);\n  const isPrimitive = isPrimitiveReactNode(children);\n\n  return (\n    <TooltipContainer fixed vkuiClass=\"PanelHeader__in\">\n      <div vkuiClass=\"PanelHeader__left\">\n        {left}\n      </div>\n      <div vkuiClass=\"PanelHeader__content\">\n        {isPrimitive ? <PanelHeaderInTypography>{children}</PanelHeaderInTypography> : children}\n      </div>\n      <div vkuiClass=\"PanelHeader__right\">\n        {webviewType !== WebviewType.VKAPPS && right}\n      </div>\n    </TooltipContainer>\n  );\n};\n\nconst PanelHeader: React.FC<PanelHeaderProps> = (props: PanelHeaderProps) => {\n  const {\n    left,\n    children,\n    right,\n    separator,\n    visor,\n    transparent,\n    shadow,\n    getRef,\n    getRootRef,\n    sizeX,\n    sizeY,\n    fixed,\n    ...restProps\n  } = props;\n  const platform = usePlatform();\n  const { webviewType } = React.useContext(ConfigProviderContext);\n  const needShadow = shadow && sizeX === SizeType.REGULAR;\n  let isFixed = fixed !== undefined ? fixed : platform !== Platform.VKCOM;\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={\n        classNames(\n          getClassName('PanelHeader', platform),\n          {\n            'PanelHeader--trnsp': transparent,\n            'PanelHeader--shadow': needShadow,\n            'PanelHeader--vis': visor,\n            'PanelHeader--sep': separator && visor,\n            'PanelHeader--vkapps': webviewType === WebviewType.VKAPPS,\n            'PanelHeader--no-left': !left,\n            'PanelHeader--no-right': !right,\n            'PanelHeader--fixed': isFixed,\n          },\n          `PanelHeader--sizeX-${sizeX}`,\n        )\n      }\n      ref={isFixed ? getRootRef : getRef}\n    >\n      {isFixed ?\n        <FixedLayout vkuiClass=\"PanelHeader__fixed\" vertical=\"top\" getRootRef={getRef}>\n          <PanelHeaderIn {...props} />\n        </FixedLayout> :\n        <PanelHeaderIn {...props} />\n      }\n      {separator && visor && platform !== VKCOM && <Separator\n        vkuiClass=\"PanelHeader__separator\"\n        expanded={sizeX === SizeType.REGULAR}\n      />}\n    </div>\n  );\n};\n\nPanelHeader.defaultProps = {\n  separator: true,\n  transparent: false,\n  visor: true,\n};\n\nexport default withAdaptivity(PanelHeader, {\n  sizeX: true,\n  sizeY: true,\n});\n"],"file":"PanelHeader.js"}