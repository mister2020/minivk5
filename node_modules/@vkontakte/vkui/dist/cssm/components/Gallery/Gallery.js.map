{"version":3,"sources":["../../../../src/components/Gallery/Gallery.tsx"],"names":["React","getClassName","Touch","classNames","withPlatform","withDOM","setRef","withAdaptivity","HorizontalScrollArrow","clamp","useTimeout","BaseGallery","props","e","setState","animation","startT","isDraggable","isFullyVisible","originalEvent","preventDefault","isSlideX","onDragStart","state","deltaX","shiftX","dragging","targetIndex","isSlide","getTarget","slideIndex","onDragEnd","onChange","onEnd","initializeSlides","canSlideLeft","canSlideRight","id","slide","slidesStore","viewport","getRef","container","getRootRef","containerWidth","slides","duration","slideWidth","align","options","Children","map","children","_item","i","elem","coordX","offsetLeft","width","offsetWidth","layerWidth","reduce","val","min","calcMin","max","calcMax","calculateIndent","isValidShift","validateIndent","window","requestAnimationFrame","viewportWidth","isCenterWithCustomWidth","length","targetSlide","indent","Number","value","expectDeltaX","Date","now","getTime","shift","direction","item","index","previousValue","Math","abs","currentValue","addEventListener","onResize","prevProps","widthChanged","isPropUpdate","slideCountChanged","count","isCustomWidth","removeEventListener","bullets","platform","hasMouse","showArrows","document","restProps","calculateDragIndent","layerStyle","WebkitTransform","transform","WebkitTransition","transition","onStart","onMoveX","getViewportRef","getSlideRef","slideLeft","slideRight","Component","BaseGalleryAdaptive","Gallery","initialSlideIndex","timeout","useState","localSlideIndex","setSlideIndex","isControlled","Boolean","toArray","filter","childCount","handleChange","useCallback","current","autoplay","useEffect","set","clear","safeSlideIndex"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport Touch, { TouchEventHandler, TouchEvent } from '../Touch/Touch';\nimport { classNames } from '../../lib/classNames';\nimport { withPlatform } from '../../hoc/withPlatform';\nimport { HasAlign, HasPlatform, HasRef, HasRootRef } from '../../types';\nimport { withDOM, DOMProps } from '../../lib/dom';\nimport { setRef } from '../../lib/utils';\nimport { withAdaptivity, AdaptivityProps } from '../../hoc/withAdaptivity';\nimport HorizontalScrollArrow from '../HorizontalScroll/HorizontalScrollArrow';\nimport { clamp } from '../../helpers/math';\nimport { useTimeout } from '../../hooks/useTimeout';\nimport './Gallery.css';\n\nexport interface BaseGalleryProps extends\n  Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange' | 'onDragStart' | 'onDragEnd'>,\n  HasPlatform,\n  HasAlign,\n  HasRootRef<HTMLDivElement>,\n  HasRef<HTMLElement> {\n  slideWidth?: string | number;\n  slideIndex?: number;\n  onDragStart?: TouchEventHandler;\n  onDragEnd?: TouchEventHandler;\n  onChange?(current: number): void;\n  onEnd?({ targetIndex }: { targetIndex: number }): void;\n  bullets?: 'dark' | 'light' | false;\n  isDraggable?: boolean;\n  showArrows?: boolean;\n}\n\nexport interface GalleryProps extends BaseGalleryProps {\n  initialSlideIndex?: number;\n  timeout?: number;\n}\n\nexport interface GalleryState {\n  containerWidth: number;\n  layerWidth?: number;\n  min?: number;\n  max?: number;\n  startT?: Date;\n  deltaX: number;\n  shiftX: number;\n  slides: GallerySlidesState[];\n  animation: boolean;\n  duration: number;\n  dragging?: boolean;\n}\n\nexport interface GallerySlidesState {\n  coordX: number;\n  width: number;\n}\n\ntype GetSlideRef = (index: number) => React.RefCallback<HTMLElement>;\n\nclass BaseGallery extends React.Component<BaseGalleryProps & DOMProps & AdaptivityProps, GalleryState> {\n  constructor(props: GalleryProps) {\n    super(props);\n\n    this.state = {\n      containerWidth: 0,\n      deltaX: 0,\n      shiftX: 0,\n      slides: [],\n      animation: true,\n      duration: 0.24,\n    };\n\n    this.slidesStore = {};\n  }\n\n  container: HTMLDivElement;\n  slidesStore: {\n    [index: string]: HTMLElement;\n  };\n  viewport: HTMLElement;\n\n  static defaultProps: Partial<BaseGalleryProps> = {\n    slideWidth: '100%',\n    children: '',\n    align: 'left',\n    bullets: false,\n    isDraggable: true,\n  };\n\n  get isCenterWithCustomWidth() {\n    return this.props.slideWidth === 'custom' && this.props.align === 'center';\n  }\n\n  initializeSlides(options: { animation?: boolean } = {}) {\n    const slides: GallerySlidesState[] = React.Children.map(\n      this.props.children,\n      (_item: React.ReactElement, i: number): GallerySlidesState => {\n        const elem = this.slidesStore[`slide-${i}`];\n        return {\n          coordX: elem.offsetLeft,\n          width: elem.offsetWidth,\n        };\n      });\n\n    const containerWidth = this.container.offsetWidth;\n    const layerWidth = slides.reduce((val: number, slide: GallerySlidesState) => slide.width + val, 0);\n\n    const min = this.calcMin({ containerWidth, layerWidth, slides });\n    const max = this.calcMax({ slides });\n\n    this.setState({ min, max, layerWidth, containerWidth, slides }, () => {\n      const shiftX = this.calculateIndent(this.props.slideIndex);\n      if (this.state.shiftX === shiftX) {\n        return;\n      }\n      const isValidShift = this.state.shiftX === this.validateIndent(this.state.shiftX);\n      const { animation = isValidShift } = options;\n      this.setState({ shiftX, animation }, () => {\n        if (!this.state.animation) {\n          this.props.window.requestAnimationFrame(() => this.setState({ animation: true }));\n        }\n      });\n    });\n  }\n\n  calcMin({ containerWidth, layerWidth, slides }: Pick<GalleryState, 'containerWidth' | 'layerWidth' | 'slides'>) {\n    const viewportWidth = this.viewport.offsetWidth;\n    switch (this.props.align) {\n      case 'left':\n        return containerWidth - layerWidth;\n      case 'right':\n        return viewportWidth - layerWidth;\n      case 'center':\n        if (this.isCenterWithCustomWidth && slides.length) {\n          const { coordX, width } = slides[slides.length - 1];\n          return viewportWidth / 2 - coordX - width / 2;\n        } else {\n          return viewportWidth - (containerWidth - viewportWidth) / 2 - layerWidth;\n        }\n    }\n  }\n\n  calcMax({ slides }: Pick<GalleryState, 'slides'>) {\n    const viewportWidth = this.viewport.offsetWidth;\n    if (this.isCenterWithCustomWidth && slides.length) {\n      const { width, coordX } = slides[0];\n      return viewportWidth / 2 - coordX - width / 2;\n    } else {\n      return 0;\n    }\n  }\n\n  /*\n   * Считает отступ слоя галереи\n   */\n  calculateIndent(targetIndex: number) {\n    const { slides } = this.state;\n\n    if (this.isFullyVisible) {\n      return 0;\n    }\n\n    const targetSlide = slides.length ? slides[targetIndex] : null;\n\n    if (targetSlide) {\n      const { coordX, width } = targetSlide;\n\n      if (this.isCenterWithCustomWidth) {\n        const viewportWidth = this.viewport.offsetWidth;\n        return viewportWidth / 2 - coordX - width / 2;\n      }\n\n      return this.validateIndent(-1 * coordX);\n    } else {\n      return 0;\n    }\n  }\n\n  /*\n   * Считает отступ слоя галереи во время драга\n   */\n  calculateDragIndent() {\n    const { shiftX, deltaX, min, max } = this.state;\n    const indent = shiftX + deltaX;\n\n    if (indent > max) {\n      return max + Number((indent - max) / 3);\n    } else if (indent < min) {\n      return min + Number((indent - min) / 3);\n    }\n\n    return indent;\n  }\n\n  validateIndent(value: number) {\n    const { min, max } = this.state;\n\n    if (value < min) {\n      return min;\n    } else if (value > max) {\n      return max;\n    }\n\n    return value;\n  }\n\n  get isFullyVisible() {\n    return this.state.layerWidth <= this.state.containerWidth;\n  }\n\n  /*\n   * Получает индекс слайда, к которому будет осуществлен переход\n   */\n  getTarget() {\n    const { slides, deltaX, shiftX, startT, max } = this.state;\n    const { slideIndex } = this.props;\n    const expectDeltaX = deltaX / (Date.now() - startT.getTime()) * 240 * 0.6;\n    const shift = shiftX + deltaX + expectDeltaX - max;\n    const direction = deltaX < 0 ? 1 : -1;\n\n    // Находим ближайшую границу слайда к текущему отступу\n    let targetIndex = slides.reduce((val: number, item: GallerySlidesState, index: number) => {\n      const previousValue = Math.abs(slides[val].coordX + shift);\n      const currentValue = Math.abs(item.coordX + shift);\n\n      return previousValue < currentValue ? val : index;\n    }, slideIndex);\n\n    if (targetIndex === slideIndex) {\n      let targetSlide = slideIndex + direction;\n\n      if (targetSlide >= 0 && targetSlide < slides.length) {\n        if (Math.abs(deltaX) > slides[targetSlide].width * 0.05) {\n          targetIndex = targetSlide;\n        }\n      }\n    }\n\n    return targetIndex;\n  }\n\n  onStart: TouchEventHandler = (e: TouchEvent) => {\n    this.setState({\n      animation: false,\n      startT: e.startT,\n    });\n  };\n\n  onMoveX: TouchEventHandler = (e: TouchEvent) => {\n    if (this.props.isDraggable && !this.isFullyVisible) {\n      e.originalEvent.preventDefault();\n\n      if (e.isSlideX) {\n        this.props.onDragStart && this.props.onDragStart(e);\n\n        if (this.state.deltaX !== e.shiftX || this.state.dragging !== e.isSlideX) {\n          this.setState({\n            deltaX: e.shiftX,\n            dragging: e.isSlideX,\n          });\n        }\n      }\n    }\n  };\n\n  onEnd: TouchEventHandler = (e: TouchEvent) => {\n    const targetIndex = e.isSlide ? this.getTarget() : this.props.slideIndex;\n    this.props.onDragEnd && this.props.onDragEnd(e);\n    this.setState({ deltaX: 0, animation: true }, () => this.props.onChange(targetIndex));\n\n    if (this.props.onEnd) {\n      this.props.onEnd({ targetIndex });\n    }\n  };\n\n  onResize: VoidFunction = () => this.initializeSlides({ animation: false });\n\n  get canSlideLeft() {\n    // shiftX is negative number <= 0, we can swipe back only if it is < 0\n    return !this.isFullyVisible && this.state.shiftX < 0;\n  }\n\n  get canSlideRight() {\n    const { containerWidth, layerWidth, shiftX, slides } = this.state;\n    const { align, slideIndex } = this.props;\n    return !this.isFullyVisible && (\n      // we can't move right when gallery layer fully scrolled right, if gallery aligned by left side\n      align === 'left' && containerWidth - shiftX < layerWidth ||\n      // otherwise we need to check current slide index (align = right or align = center)\n      align !== 'left' && slideIndex < slides.length - 1\n    );\n  }\n\n  slideLeft = () => {\n    const { slideIndex, onChange } = this.props;\n    if (this.canSlideLeft) {\n      this.setState({ deltaX: 0, animation: true }, () => onChange(slideIndex - 1));\n    }\n  };\n\n  slideRight = () => {\n    const { slideIndex, onChange } = this.props;\n    if (this.canSlideRight) {\n      this.setState({ deltaX: 0, animation: true }, () => onChange(slideIndex + 1));\n    }\n  };\n\n  getSlideRef: GetSlideRef = (id: number) => (slide) => {\n    this.slidesStore[`slide-${id}`] = slide;\n  };\n\n  getViewportRef: React.RefCallback<HTMLElement> = (viewport) => {\n    this.viewport = viewport;\n    setRef(viewport, this.props.getRef);\n  };\n\n  getRootRef: React.RefCallback<HTMLDivElement> = (container) => {\n    this.container = container;\n    setRef(container, this.props.getRootRef);\n  };\n\n  componentDidMount() {\n    this.initializeSlides({ animation: false });\n    this.props.window.addEventListener('resize', this.onResize);\n  }\n\n  componentDidUpdate(prevProps: GalleryProps) {\n    const widthChanged = this.props.slideWidth !== prevProps.slideWidth;\n    const isPropUpdate = this.props !== prevProps;\n    const slideCountChanged = React.Children.count(this.props.children) !== React.Children.count(prevProps.children);\n    const isCustomWidth = this.props.slideWidth === 'custom';\n\n    // в любом из этих случаев позиция могла поменяться\n    if (widthChanged || slideCountChanged || isCustomWidth && isPropUpdate) {\n      this.initializeSlides();\n    } else if (this.props.slideIndex !== prevProps.slideIndex) {\n      this.setState({\n        animation: true,\n        deltaX: 0,\n        shiftX: this.calculateIndent(this.props.slideIndex),\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.window.removeEventListener('resize', this.onResize);\n  }\n\n  render() {\n    const { animation, duration, dragging } = this.state;\n    const {\n      children,\n      slideWidth,\n      slideIndex,\n      isDraggable,\n      onDragStart,\n      onDragEnd,\n      onChange,\n      onEnd,\n      align,\n      bullets,\n      platform,\n      hasMouse,\n      showArrows,\n      window,\n      document,\n      getRef,\n      getRootRef,\n      ...restProps\n    } = this.props;\n\n    const indent = dragging ? this.calculateDragIndent() : this.calculateIndent(slideIndex);\n\n    const layerStyle = {\n      WebkitTransform: `translateX(${indent}px)`,\n      transform: `translateX(${indent}px)`,\n      WebkitTransition: animation ? `-webkit-transform ${duration}s cubic-bezier(.1, 0, .25, 1)` : 'none',\n      transition: animation ? `transform ${duration}s cubic-bezier(.1, 0, .25, 1)` : 'none',\n    };\n\n    return (\n      <div\n        {...restProps}\n        vkuiClass={classNames(getClassName('Gallery', platform), `Gallery--${align}`, {\n          'Gallery--dragging': dragging,\n          'Gallery--custom-width': slideWidth === 'custom',\n        })}\n        ref={this.getRootRef}\n      >\n        <Touch\n          vkuiClass=\"Gallery__viewport\"\n          onStartX={this.onStart}\n          onMoveX={this.onMoveX}\n          onEnd={this.onEnd}\n          noSlideClick\n          style={{ width: slideWidth === 'custom' ? '100%' : slideWidth }}\n          getRootRef={this.getViewportRef}\n        >\n          <div vkuiClass=\"Gallery__layer\" style={layerStyle}>\n            {React.Children.map(children, (item: React.ReactElement, i: number) =>\n              <div vkuiClass=\"Gallery__slide\" key={`slide-${i}`} ref={this.getSlideRef(i)}>{item}</div>,\n            )}\n          </div>\n        </Touch>\n\n        {bullets &&\n        <div aria-hidden=\"true\" vkuiClass={classNames('Gallery__bullets', `Gallery__bullets--${bullets}`)}>\n          {React.Children.map(children, (_item: React.ReactElement, index: number) =>\n            <div\n              vkuiClass={classNames('Gallery__bullet', { 'Gallery__bullet--active': index === slideIndex })}\n              key={index}\n            />,\n          )}\n        </div>\n        }\n\n        {showArrows && hasMouse && this.canSlideLeft && <HorizontalScrollArrow direction=\"left\" onClick={this.slideLeft} />}\n        {showArrows && hasMouse && this.canSlideRight && <HorizontalScrollArrow direction=\"right\" onClick={this.slideRight} />}\n      </div>\n    );\n  }\n}\n\nconst BaseGalleryAdaptive = withAdaptivity(withDOM<BaseGalleryProps>(BaseGallery), {\n  hasMouse: true,\n});\n\nconst Gallery: React.FC<GalleryProps> = ({\n  initialSlideIndex = 0,\n  children,\n  timeout,\n  onChange,\n  ...props\n}: GalleryProps) => {\n  const [localSlideIndex, setSlideIndex] = React.useState(initialSlideIndex);\n  const isControlled = typeof props.slideIndex === 'number';\n  const slideIndex = isControlled ? props.slideIndex : localSlideIndex;\n  const isDraggable = !isControlled || Boolean(onChange);\n  const slides = React.Children.toArray(children).filter((item) => Boolean(item));\n  const childCount = slides.length;\n\n  const handleChange: GalleryProps['onChange'] = React.useCallback((current) => {\n    if (current === slideIndex) {\n      return;\n    }\n    !isControlled && setSlideIndex(current);\n    onChange && onChange(current);\n  }, [onChange, slideIndex]);\n\n  const autoplay = useTimeout(() => handleChange((slideIndex + 1) % childCount), timeout);\n  React.useEffect(() => timeout ? autoplay.set() : autoplay.clear(), [timeout, slideIndex]);\n\n  // prevent invalid slideIndex\n  // any slide index is invalid with no slides, just keep it as is\n  const safeSlideIndex = childCount > 0 ? clamp(slideIndex, 0, childCount - 1) : slideIndex;\n  // notify parent in controlled mode\n  React.useEffect(() => {\n    if (onChange && safeSlideIndex !== slideIndex) {\n      onChange(safeSlideIndex);\n    }\n  }, [safeSlideIndex]);\n\n  return (\n    <BaseGalleryAdaptive\n      isDraggable={isDraggable}\n      {...props}\n      slideIndex={safeSlideIndex}\n      onChange={handleChange}\n    >{slides}</BaseGalleryAdaptive>\n  );\n};\n\nexport default withPlatform(Gallery);\n"],"file":"Gallery.js"}