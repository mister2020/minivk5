{"version":3,"sources":["../../../../src/components/FormItem/FormItem.tsx"],"names":["React","classNames","useExternRef","usePlatform","getClassName","hasReactNode","Subhead","Caption","useAdaptivity","Removable","FormItem","children","top","bottom","status","Component","removable","onRemove","removePlaceholder","getRootRef","restProps","platform","rootEl","sizeY","wrappedChildren","e","current"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,UAAT;AACA,SAASC,YAAT;AACA,SAASC,WAAT;AACA,SAASC,YAAT;AACA,SAASC,YAAT;AACA,OAAOC,OAAP;AACA,OAAOC,OAAP;AACA,SAASC,aAAT;AACA,SAASC,SAAT;AACA;AAaA,OAAO,IAAMC,QAAiC,GAAG,SAApCA,QAAoC,OAW5B;AAAA,MAVnBC,QAUmB,QAVnBA,QAUmB;AAAA,MATnBC,GASmB,QATnBA,GASmB;AAAA,MARnBC,MAQmB,QARnBA,MAQmB;AAAA,yBAPnBC,MAOmB;AAAA,MAPnBA,MAOmB,4BAPV,SAOU;AAAA,4BANnBC,SAMmB;AAAA,MANnBA,SAMmB,+BANP,KAMO;AAAA,MALnBC,SAKmB,QALnBA,SAKmB;AAAA,MAJnBC,SAImB,QAJnBA,QAImB;AAAA,mCAHnBC,iBAGmB;AAAA,MAHnBA,iBAGmB,sCAHC,SAGD;AAAA,MAFnBC,UAEmB,QAFnBA,UAEmB;AAAA,MADhBC,SACgB;;AACnB,MAAMC,QAAQ,GAAGlB,WAAW,EAA5B;AACA,MAAMmB,MAAM,GAAGpB,YAAY,CAACiB,UAAD,CAA3B;;AACA,uBAAkBX,aAAa,EAA/B;AAAA,MAAQe,KAAR,kBAAQA,KAAR;;AAEA,MAAMC,eAAe,GACnB,oBAAC,KAAD,CAAO,QAAP,QACGnB,YAAY,CAACO,GAAD,CAAZ,IAAqB,oBAAC,OAAD;AAAS,IAAA,MAAM,EAAC,SAAhB;AAA0B,IAAA,SAAS,EAAC;AAApC,KAAqDA,GAArD,CADxB,EAEGD,QAFH,EAGGN,YAAY,CAACQ,MAAD,CAAZ,IAAwB,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,GAAf;AAAmB,IAAA,MAAM,EAAC,SAA1B;AAAoC,IAAA,SAAS,EAAC;AAA9C,KAAkEA,MAAlE,CAH3B,CADF;AAQA,SACE,oBAAC,SAAD,eACMO,SADN;AAEE,IAAA,GAAG,EAAEE,MAFP;AAGE,IAAA,SAAS,EAAErB,UAAU,CACnBG,YAAY,CAAC,UAAD,EAAaiB,QAAb,CADO,sBAENP,MAFM,6BAGAS,KAHA,GAInB;AACE,2BAAqBlB,YAAY,CAACO,GAAD,CADnC;AAEE,6BAAuBI;AAFzB,KAJmB;AAHvB,MAaGA,SAAS,GACR,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAyB,IAAA,QAAQ,EAAE,kBAACS,CAAD;AAAA,aAAOR,SAAQ,CAACQ,CAAD,EAAIH,MAAJ,aAAIA,MAAJ,uBAAIA,MAAM,CAAEI,OAAZ,CAAf;AAAA,KAAnC;AAAwE,IAAA,iBAAiB,EAAER;AAA3F,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGM,eADH,CADF,CADQ,GAMNA,eAnBN,CADF;AAuBD,CA/CM","sourcesContent":["import * as React from 'react';\nimport { HasRootRef } from '../../types';\nimport { classNames } from '../../lib/classNames';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { getClassName } from '../../helpers/getClassName';\nimport { hasReactNode } from '../../lib/utils';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Caption from '../Typography/Caption/Caption';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { Removable, RemovableProps } from '../Removable/Removable';\nimport './FormItem.css';\n\nexport interface FormItemProps extends React.AllHTMLAttributes<HTMLElement>, RemovableProps, HasRootRef<HTMLElement> {\n  top?: React.ReactNode;\n  bottom?: React.ReactNode;\n  status?: 'default' | 'error' | 'valid';\n  Component?: React.ElementType;\n  /**\n   * Дает возможность удалить `FormItem`. Рекомендуется использовать только для `Input` или `Select`.\n   */\n  removable?: boolean;\n}\n\nexport const FormItem: React.FC<FormItemProps> = ({\n  children,\n  top,\n  bottom,\n  status = 'default',\n  Component = 'div',\n  removable,\n  onRemove,\n  removePlaceholder = 'Удалить',\n  getRootRef,\n  ...restProps\n}: FormItemProps) => {\n  const platform = usePlatform();\n  const rootEl = useExternRef(getRootRef);\n  const { sizeY } = useAdaptivity();\n\n  const wrappedChildren = (\n    <React.Fragment>\n      {hasReactNode(top) && <Subhead weight=\"regular\" vkuiClass=\"FormItem__top\">{top}</Subhead>}\n      {children}\n      {hasReactNode(bottom) && <Caption level=\"1\" weight=\"regular\" vkuiClass=\"FormItem__bottom\">{bottom}</Caption>}\n    </React.Fragment>\n  );\n\n  return (\n    <Component\n      {...restProps}\n      ref={rootEl}\n      vkuiClass={classNames(\n        getClassName('FormItem', platform),\n        `FormItem--${status}`,\n        `FormItem--sizeY-${sizeY}`,\n        {\n          'FormItem--withTop': hasReactNode(top),\n          'FormItem--removable': removable,\n        },\n      )}\n    >\n      {removable ? (\n        <Removable align=\"start\" onRemove={(e) => onRemove(e, rootEl?.current)} removePlaceholder={removePlaceholder}>\n          <div vkuiClass=\"FormItem__removable\">\n            {wrappedChildren}\n          </div>\n        </Removable>\n      ) : wrappedChildren}\n    </Component>\n  );\n};\n"],"file":"FormItem.js"}