{"version":3,"sources":["../../../src/hoc/withAdaptivity.tsx"],"names":["withAdaptivity","TargetComponent","config","AdaptivityConsumer","props","context","React","useContext","AdaptivityContext","update","sizeX","sizeY","viewWidth","viewHeight","hasMouse","adaptivityProps","undefined","target"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAmBO,SAASA,cAAT,CAA2BC,eAA3B,EAA+CC,MAA/C,EAAkE;AACvE,WAASC,kBAAT,CAA4BC,KAA5B,EAAoD;AAClD,QAAMC,OAAO,GAAGC,KAAK,CAACC,UAAN,CAAiBC,oCAAjB,CAAhB;AACA,QAAIC,MAAM,GAAG,KAAb;;AAEA,QAAIL,KAAK,CAACM,KAAN,IAAeN,KAAK,CAACO,KAAzB,EAAgC;AAC9BF,MAAAA,MAAM,GAAG,IAAT;AACD;;AAED,QAAMC,KAAK,GAAGN,KAAK,CAACM,KAAN,IAAeL,OAAO,CAACK,KAArC;AACA,QAAMC,KAAK,GAAGP,KAAK,CAACO,KAAN,IAAeN,OAAO,CAACM,KAArC;AACA,QAAMC,SAAS,GAAGP,OAAO,CAACO,SAA1B;AACA,QAAMC,UAAU,GAAGR,OAAO,CAACQ,UAA3B;AACA,QAAMC,QAAQ,GAAGT,OAAO,CAACS,QAAzB;AAEA,QAAMC,eAML,GAAG,EANJ;AAOAb,IAAAA,MAAM,CAACQ,KAAP,GAAeK,eAAe,CAACL,KAAhB,GAAwBA,KAAvC,GAA+CM,SAA/C;AACAd,IAAAA,MAAM,CAACS,KAAP,GAAeI,eAAe,CAACJ,KAAhB,GAAwBA,KAAvC,GAA+CK,SAA/C;AACAd,IAAAA,MAAM,CAACU,SAAP,GAAmBG,eAAe,CAACH,SAAhB,GAA4BA,SAA/C,GAA2DI,SAA3D;AACAd,IAAAA,MAAM,CAACW,UAAP,GAAoBE,eAAe,CAACF,UAAhB,GAA6BA,UAAjD,GAA8DG,SAA9D;AACAd,IAAAA,MAAM,CAACY,QAAP,GAAkBC,eAAe,CAACD,QAAhB,GAA2BA,QAA7C,GAAwDE,SAAxD,CAzBkD,CA2BlD;;AACA,QAAMC,MAAM,GAAG,qCAAC,eAAD,6BAAqBb,KAArB,EAAgCW,eAAhC,EAAf;;AAEA,QAAIN,MAAJ,EAAY;AACV,aAAO,qCAAC,oCAAD,CAAmB,QAAnB;AAA4B,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAALA,KAAF;AAASC,UAAAA,KAAK,EAALA,KAAT;AAAgBC,UAAAA,SAAS,EAATA,SAAhB;AAA2BC,UAAAA,UAAU,EAAVA,UAA3B;AAAuCC,UAAAA,QAAQ,EAARA;AAAvC;AAAnC,SACJG,MADI,CAAP;AAGD;;AAED,WAAOA,MAAP;AACD;;AAED,SAAOd,kBAAP;AACD","sourcesContent":["import * as React from 'react';\nimport {\n  AdaptivityContext,\n  SizeType,\n  ViewHeight,\n  ViewWidth,\n  AdaptivityProps,\n} from '../components/AdaptivityProvider/AdaptivityContext';\n\nexport { SizeType, ViewWidth, ViewHeight };\nexport type { AdaptivityProps };\n\ninterface Config {\n  sizeX?: boolean;\n  sizeY?: boolean;\n  viewWidth?: boolean;\n  viewHeight?: boolean;\n  hasMouse?: boolean;\n}\n\nexport function withAdaptivity<T>(TargetComponent: T, config: Config): T {\n  function AdaptivityConsumer(props: AdaptivityProps) {\n    const context = React.useContext(AdaptivityContext);\n    let update = false;\n\n    if (props.sizeX || props.sizeY) {\n      update = true;\n    }\n\n    const sizeX = props.sizeX || context.sizeX;\n    const sizeY = props.sizeY || context.sizeY;\n    const viewWidth = context.viewWidth;\n    const viewHeight = context.viewHeight;\n    const hasMouse = context.hasMouse;\n\n    const adaptivityProps: {\n      sizeX?: SizeType;\n      sizeY?: SizeType;\n      viewWidth?: ViewWidth;\n      viewHeight?: ViewHeight;\n      hasMouse?: boolean;\n    } = {};\n    config.sizeX ? adaptivityProps.sizeX = sizeX : undefined;\n    config.sizeY ? adaptivityProps.sizeY = sizeY : undefined;\n    config.viewWidth ? adaptivityProps.viewWidth = viewWidth : undefined;\n    config.viewHeight ? adaptivityProps.viewHeight = viewHeight : undefined;\n    config.hasMouse ? adaptivityProps.hasMouse = hasMouse : undefined;\n\n    // @ts-ignore\n    const target = <TargetComponent {...props} {...adaptivityProps} />;\n\n    if (update) {\n      return <AdaptivityContext.Provider value={{ sizeX, sizeY, viewWidth, viewHeight, hasMouse }}>\n        {target}\n      </AdaptivityContext.Provider>;\n    }\n\n    return target;\n  }\n\n  return AdaptivityConsumer as unknown as T;\n}\n"],"file":"withAdaptivity.js"}