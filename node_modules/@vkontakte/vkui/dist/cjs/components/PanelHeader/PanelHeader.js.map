{"version":3,"sources":["../../../../src/components/PanelHeader/PanelHeader.tsx"],"names":["PanelHeaderInTypography","children","platform","VKCOM","PanelHeaderIn","left","right","React","useContext","ConfigProviderContext","webviewType","isPrimitive","WebviewType","VKAPPS","PanelHeader","props","separator","visor","transparent","shadow","getRef","getRootRef","sizeX","sizeY","fixed","restProps","needShadow","SizeType","REGULAR","isFixed","undefined","Platform","defaultProps"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport FixedLayout from '../FixedLayout/FixedLayout';\nimport Separator from '../Separator/Separator';\nimport { Platform, VKCOM } from '../../lib/platform';\nimport { HasRef, HasRootRef } from '../../types';\nimport { ConfigProviderContext, WebviewType } from '../ConfigProvider/ConfigProviderContext';\nimport { AdaptivityProps, SizeType, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { isPrimitiveReactNode } from '../../lib/utils';\nimport Text from '../Typography/Text/Text';\nimport { TooltipContainer } from '../Tooltip/TooltipContainer';\nimport './PanelHeader.css';\n\nexport interface PanelHeaderProps extends\n  React.HTMLAttributes<HTMLDivElement>,\n  HasRef<HTMLDivElement>,\n  HasRootRef<HTMLDivElement>,\n  AdaptivityProps {\n  left?: React.ReactNode;\n  right?: React.ReactNode;\n  separator?: boolean;\n  transparent?: boolean;\n  shadow?: boolean;\n  /**\n   * Если `false`, то шапка будет нулевой высоты и контент панели \"залезет\" под неё\n   */\n  visor?: boolean;\n  /**\n   * Если `false`, то шапка будет в потоке. По умолчанию `true`, но если платформа vkcom, то по умолчанию `false`.\n   */\n  fixed?: boolean;\n}\n\nconst PanelHeaderInTypography: React.FC<PanelHeaderProps> = ({ children }: PanelHeaderProps) => {\n  const platform = usePlatform();\n\n  return platform === VKCOM\n    ? <Text weight=\"medium\">{children}</Text>\n    : <span vkuiClass=\"PanelHeader__content-in\">{children}</span>;\n};\n\nconst PanelHeaderIn: React.FC<PanelHeaderProps> = ({ children, left, right }) => {\n  const { webviewType } = React.useContext(ConfigProviderContext);\n  const isPrimitive = isPrimitiveReactNode(children);\n\n  return (\n    <TooltipContainer fixed vkuiClass=\"PanelHeader__in\">\n      <div vkuiClass=\"PanelHeader__left\">\n        {left}\n      </div>\n      <div vkuiClass=\"PanelHeader__content\">\n        {isPrimitive ? <PanelHeaderInTypography>{children}</PanelHeaderInTypography> : children}\n      </div>\n      <div vkuiClass=\"PanelHeader__right\">\n        {webviewType !== WebviewType.VKAPPS && right}\n      </div>\n    </TooltipContainer>\n  );\n};\n\nconst PanelHeader: React.FC<PanelHeaderProps> = (props: PanelHeaderProps) => {\n  const {\n    left,\n    children,\n    right,\n    separator,\n    visor,\n    transparent,\n    shadow,\n    getRef,\n    getRootRef,\n    sizeX,\n    sizeY,\n    fixed,\n    ...restProps\n  } = props;\n  const platform = usePlatform();\n  const { webviewType } = React.useContext(ConfigProviderContext);\n  const needShadow = shadow && sizeX === SizeType.REGULAR;\n  let isFixed = fixed !== undefined ? fixed : platform !== Platform.VKCOM;\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={\n        classNames(\n          getClassName('PanelHeader', platform),\n          {\n            'PanelHeader--trnsp': transparent,\n            'PanelHeader--shadow': needShadow,\n            'PanelHeader--vis': visor,\n            'PanelHeader--sep': separator && visor,\n            'PanelHeader--vkapps': webviewType === WebviewType.VKAPPS,\n            'PanelHeader--no-left': !left,\n            'PanelHeader--no-right': !right,\n            'PanelHeader--fixed': isFixed,\n          },\n          `PanelHeader--sizeX-${sizeX}`,\n        )\n      }\n      ref={isFixed ? getRootRef : getRef}\n    >\n      {isFixed ?\n        <FixedLayout vkuiClass=\"PanelHeader__fixed\" vertical=\"top\" getRootRef={getRef}>\n          <PanelHeaderIn {...props} />\n        </FixedLayout> :\n        <PanelHeaderIn {...props} />\n      }\n      {separator && visor && platform !== VKCOM && <Separator\n        vkuiClass=\"PanelHeader__separator\"\n        expanded={sizeX === SizeType.REGULAR}\n      />}\n    </div>\n  );\n};\n\nPanelHeader.defaultProps = {\n  separator: true,\n  transparent: false,\n  visor: true,\n};\n\nexport default withAdaptivity(PanelHeader, {\n  sizeX: true,\n  sizeY: true,\n});\n"],"file":"PanelHeader.js"}